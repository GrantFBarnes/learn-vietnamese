<app-title
  [title]="{
    english: 'Quiz',
    vietnamese: 'Đố nhanh'
  }"
  [subTitle]="{
    english: 'Test your knowledge with a simple quiz',
    vietnamese: 'Kiểm tra kiến thức của bạn bằng một câu đố đơn giản'
  }"
></app-title>

<app-loading *ngIf="loading"></app-loading>
<div [ngClass]="loading ? 'container blur' : 'container'">
  <div class="row center mb-2">
    <div class="col-12">
      <button type="button" class="btn btn-primary" (click)="nextQuestion()">
        Next Question
      </button>
    </div>
  </div>
  <div class="row mb-2">
    <div class="col-md-6 mb-2">
      <div class="card bg-dark">
        <div class="card-body">
          <p class="card-title">What does the following translate to?</p>
          <h1 class="card-text total-center">
            {{
              question_type === "Vietnamese"
                ? cards[correct_idx].word
                : cards[correct_idx].translation
            }}
          </h1>
        </div>
      </div>
    </div>
    <div class="col-md-6 mb-2">
      <div class="card bg-dark">
        <div class="card-body">
          <p class="card-title">Select an Answer</p>
          <ng-container *ngFor="let card of cards; let i = index">
            <app-quiz-answer
              [card]="card"
              [correct]="correct_idx === i"
              [question_type]="question_type"
            ></app-quiz-answer>
          </ng-container>
        </div>
      </div>
    </div>
  </div>
  <div class="row center">
    <div class="col-md-6 mb-2">
      <div class="dropdown">
        <button
          class="btn btn-secondary dropdown-toggle"
          type="button"
          data-bs-toggle="dropdown"
        >
          {{ question_type_selected }}
        </button>
        <ul class="dropdown-menu dropdown-menu-dark">
          <ng-container *ngFor="let option of question_type_options">
            <li>
              <a
                [ngClass]="
                  question_type_selected == option
                    ? 'dropdown-item active'
                    : 'dropdown-item'
                "
                (click)="setQuestionType(option)"
              >
                {{ option }}
              </a>
            </li>
          </ng-container>
        </ul>
      </div>
    </div>
    <div class="col-md-6 mb-2">
      <div class="dropdown">
        <button
          class="btn btn-secondary dropdown-toggle"
          type="button"
          data-bs-toggle="dropdown"
        >
          {{ answer_count }} Options
        </button>
        <ul class="dropdown-menu dropdown-menu-dark">
          <ng-container *ngFor="let option of answer_count_options">
            <li>
              <a
                [ngClass]="
                  answer_count == option
                    ? 'dropdown-item active'
                    : 'dropdown-item'
                "
                (click)="setAnswerCount(option)"
              >
                {{ option }} Options
              </a>
            </li>
          </ng-container>
        </ul>
      </div>
    </div>
  </div>
</div>
